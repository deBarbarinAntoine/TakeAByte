<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            // Function to toggle favorite items
            function toggleFavorite(itemId) {
                let favorites = JSON.parse(localStorage.getItem('favorites')) || [];
                const itemIndex = favorites.indexOf(itemId);

                if (itemIndex > -1) {
                    favorites.splice(itemIndex, 1);
                    alert(`Item ${itemId} removed from favorites`);
                } else {
                    favorites.push(itemId);
                    alert(`Item ${itemId} added to favorites`);
                }

                localStorage.setItem('favorites', JSON.stringify(favorites));
            }

            // Function to toggle cart items
            function toggleCart(itemId) {
                let cart = JSON.parse(localStorage.getItem('cart')) || [];
                const itemIndex = cart.indexOf(itemId);

                if (itemIndex > -1) {
                    cart.splice(itemIndex, 1);
                    alert(`Item ${itemId} removed from cart`);
                } else {
                    cart.push(itemId);
                    alert(`Item ${itemId} added to cart`);
                }

                localStorage.setItem('cart', JSON.stringify(cart));
            }

            // Attach event listeners to buttons
            document.querySelectorAll('.favorite-button').forEach(button => {
                button.addEventListener('click', () => {
                    const itemId = button.dataset.id;
                    toggleFavorite(itemId);
                });
            });

            document.querySelectorAll('.cart-button').forEach(button => {
                button.addEventListener('click', () => {
                    const itemId = button.dataset.id;
                    toggleCart(itemId);
                });
            });
        });
    </script>
</head>
<body>
<h1>Shopping App</h1>
<div>
    <button class="favorite-button" data-id="1">Toggle Favorite for Item 1</button>
    <button class="cart-button" data-id="1">Toggle Cart for Item 1</button>
</div>
<div>
    <button class="favorite-button" data-id="2">Toggle Favorite for Item 2</button>
    <button class="cart-button" data-id="2">Toggle Cart for Item 2</button>
</div>
<!-- Add more items as needed -->
</body>
</html>
